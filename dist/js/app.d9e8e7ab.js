(function(e){function t(t){for(var a,r,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0ef7444e":"feaa996a","chunk-1b936a0c":"1588dda1","chunk-6844ecb3":"3e78d159","chunk-1c423c20":"89edb09b","chunk-2d0ab565":"f773607c","chunk-3df47f7e":"a4f49de0","chunk-52584dfc":"4d38d6ac","chunk-88058f76":"0bfabcfc","chunk-b9074488":"59d598e9"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0ef7444e":1,"chunk-1b936a0c":1,"chunk-6844ecb3":1,"chunk-3df47f7e":1,"chunk-52584dfc":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0ef7444e":"c6ca1100","chunk-1b936a0c":"5d39c2cd","chunk-6844ecb3":"780b7a25","chunk-1c423c20":"31d6cfe0","chunk-2d0ab565":"31d6cfe0","chunk-3df47f7e":"195cfc00","chunk-52584dfc":"0881076b","chunk-88058f76":"31d6cfe0","chunk-b9074488":"31d6cfe0"}[e]+".css",o=s.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],f.parentNode.removeChild(f),n(c)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"26cf":function(e,t,n){},"2f20":function(e,t,n){"use strict";n("3570")},3570:function(e,t,n){},"509d":function(e,t,n){"use strict";n("26cf")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[e.currentUser?n("v-navigation-drawer",{directives:[{name:"show",rawName:"v-show",value:e.currentUser,expression:"currentUser"}],attrs:{"mobile-breakpoint":768,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-img",{staticClass:"pa-4 pt-7",attrs:{src:"images/friperie.jpg",height:"/todo"===e.$route.path?"220":"198",gradient:"to top right, rgba(100,115,201,.3), rgba(240,191,81,.7)"}},[n("v-avatar",{staticClass:"mb-3",attrs:{size:"50"}},[n("img",{attrs:{src:"images/avatars/mkasrani.jpg",alt:"Mourad"}})]),e.currentUser?[n("div",{staticClass:"white--text text-sibtitle-2"},[e._v(e._s(e.currentUser.email))]),n("v-row",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:"admin@mk-vintage.fr"===e.currentUser.email,expression:"currentUser.email === 'admin@mk-vintage.fr'"}],staticClass:"ma-3 mt-5",attrs:{color:"green","text-color":"white","x-small":""}},[e._v(" Admin ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:"admin@mk-vintage.fr"!==e.currentUser.email,expression:"currentUser.email !== 'admin@mk-vintage.fr'"}],staticClass:"ma-3 mt-5",attrs:{color:"green","text-color":"white","x-small":""}},[e._v(" Client ")])],1),n("v-btn",{staticClass:"mt-3",attrs:{small:""},on:{click:e.signOut}},[e._v("Se deconnecter")])]:e._e()],2),n("v-list",{attrs:{dense:"",nav:""}},e._l(e.items,(function(t){return n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:!("admin@mk-vintage.fr"!==e.currentUser.email&&"Gestion de stock"===t.title),expression:"!((currentUser.email !== 'admin@mk-vintage.fr') && (item.title === 'Gestion de stock'))"}],key:t.title,attrs:{to:t.to,link:""}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1):e._e(),n("v-app-bar",{attrs:{app:"",color:"#F0BF51",dark:"",prominent:"",height:"/todo"===e.$route.path?"220":"150",src:"images/friperie.jpg","fade-img-on-scroll":""},scopedSlots:e._u([{key:"img",fn:function(t){var a=t.props;return[n("v-img",e._b({attrs:{gradient:"to top right, rgba(100,115,201,.3), rgba(240,191,81,.7)"}},"v-img",a,!1))]}},"/todo"!==e.$route.path?{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"align-with-title":""}},[n("v-tab",{staticStyle:{"margin-left":"10px"},attrs:{to:"/"}},[e._v("Accueil")]),n("v-tab",{attrs:{to:"/product-list"}},[e._v("Notre sélection")]),e.currentUser?e._e():n("v-tab",{attrs:{to:"/sign-in"}},["/sign-up"!==e.$route.path?[e._v("Connexion")]:[e._v("Inscription")]],2)],1)]},proxy:!0}:null],null,!0)},[n("v-container",{staticClass:"header-container pa-0"},[n("v-row",[e.currentUser?n("v-app-bar-nav-icon",{staticClass:"mt-2",on:{click:function(t){e.drawer=!e.drawer}}}):e._e(),n("v-spacer"),n("search")],1),n("v-row",[n("v-toolbar-title",{staticClass:"text-h4 ml-3"},[e._v(e._s(e.$store.state.appTitle))])],1),n("v-row",[e.currentUser&&"admin@mk-vintage.fr"===e.currentUser.email?n("live-data-time"):n("div",{staticClass:"text-h5 ml-3"},[e._v("Bienvenue !")])],1),"/todo"===e.$route.path?n("v-row",[n("filed-add-task")],1):e._e()],1)],1),n("v-main",[n("router-view"),n("snackbar")],1)],1)},o=[],c=(n("ac1f"),n("5319"),n("dc59")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{staticClass:"expanding-search mt-6 mr-4",class:{closed:e.searchClosed&&!e.$store.state.search},attrs:{value:e.$store.state.search,disabled:e.$store.state.sorting,placeholder:"Rechercher..","prepend-inner-icon":"mdi-magnify",Filled:"",dense:"",clearable:""},on:{input:function(t){return e.$store.commit("setSearch",t)},focus:function(t){e.searchClosed=!1},blur:function(t){e.searchClosed=!0}}})},s=[],u={data:function(){return{searchClosed:!0}}},l=u,d=(n("2f20"),n("2877")),f=n("6544"),m=n.n(f),h=n("8654"),p=Object(d["a"])(l,i,s,!1,null,null,null),k=p.exports;m()(p,{VTextField:h["a"]});var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-subtitle-1 ml-3"},[e._v(" "+e._s(e.date)+" ")])},b=[],g=n("b166"),w={data:function(){return{date:""}},methods:{getDate:function(){this.date=Object(g["a"])(new Date,"d MMMM, H:mm:ss"),setTimeout(this.getDate,1e3)}},mounted:function(){this.getDate()}},T=w,_=Object(d["a"])(T,v,b,!1,null,null,null),x=_.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{staticClass:"pa-3",attrs:{outlined:"",label:"Ajouter un article","hide-details":"",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTask(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-icon",{attrs:{disabled:e.newTaskTitleInvalid},on:{click:e.addTask}},[e._v(" mdi-plus ")])]},proxy:!0}]),model:{value:e.newTaskTitle,callback:function(t){e.newTaskTitle=t},expression:"newTaskTitle"}})},C=[],S={data:function(){return{newTaskTitle:""}},computed:{newTaskTitleInvalid:function(){return!this.newTaskTitle}},methods:{addTask:function(){this.newTaskTitleInvalid||(this.$store.dispatch("addTask",this.newTaskTitle),this.newTaskTitle="")}}},U=S,V=n("132d"),j=Object(d["a"])(U,y,C,!1,null,null,null),$=j.exports;m()(j,{VIcon:V["a"],VTextField:h["a"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){return e.$store.commit("hideSnackbar")}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.$store.state.snackbar.show,callback:function(t){e.$set(e.$store.state.snackbar,"show",t)},expression:"$store.state.snackbar.show"}},[e._v(" "+e._s(e.$store.state.snackbar.text)+" ")])},A=[],I={},D=I,E=(n("509d"),n("8336")),P=n("2db4"),L=Object(d["a"])(D,O,A,!1,null,"205bcd85",null),N=L.exports;m()(L,{VBtn:E["a"],VSnackbar:P["a"]});var M={data:function(){return{drawer:null,items:[{title:"Home",icon:"mdi-home",to:"/"},{title:"Gestion de stock",icon:"mdi-bookmark-plus",to:"/products"},{title:"Taches",icon:"mdi-note-plus",to:"/todo"},{title:"Vos commandes",icon:"mdi-lock-clock",to:"/orders"},{title:"Profil",icon:"mdi-account-box",to:"/account"}]}},components:{Search:k,"live-data-time":x,"filed-add-task":$,Snackbar:N},computed:{currentUser:function(){return this.$store.state.currentUser}},mounted:function(){this.$store.dispatch("getTasks")},methods:{signOut:function(){var e=this;c["c"].auth().signOut().then((function(){e.$router.replace("/")})).catch((function(e){console.log(e)}))}}},B=M,F=(n("5c0b"),n("7496")),R=n("40dc"),q=n("5bc1"),G=n("8212"),H=n("cc20"),K=n("a523"),z=n("adda"),J=n("8860"),W=n("da13"),X=n("5d23"),Q=n("34c3"),Y=n("f6c4"),Z=n("f774"),ee=n("0fd9"),te=n("2fa4"),ne=n("71a3"),ae=n("fe57"),re=n("2a7f"),oe=Object(d["a"])(B,r,o,!1,null,null,null),ce=oe.exports;m()(oe,{VApp:F["a"],VAppBar:R["a"],VAppBarNavIcon:q["a"],VAvatar:G["a"],VBtn:E["a"],VChip:H["a"],VContainer:K["a"],VIcon:V["a"],VImg:z["a"],VList:J["a"],VListItem:W["a"],VListItemContent:X["b"],VListItemIcon:Q["a"],VListItemTitle:X["c"],VMain:Y["a"],VNavigationDrawer:Z["a"],VRow:ee["a"],VSpacer:te["a"],VTab:ne["a"],VTabs:ae["a"],VToolbarTitle:re["a"]});n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("b0c0");var ie=n("8c4f"),se=n("3384"),ue=n.n(se);a["a"].use(ie["a"]);var le=[{name:"Home",path:"/",component:function(){return n.e("chunk-52584dfc").then(n.bind(null,"bb51"))}},{name:"Todo",path:"/todo",component:function(){return Promise.all([n.e("chunk-0ef7444e"),n.e("chunk-6844ecb3")]).then(n.bind(null,"a3b3"))},meta:{requiresAuth:!0}},{name:"Products",path:"/products",component:function(){return Promise.all([n.e("chunk-0ef7444e"),n.e("chunk-1b936a0c")]).then(n.bind(null,"e6dc"))},meta:{requiresAuth:!0}},{name:"Orders",path:"/orders",component:function(){return n.e("chunk-2d0ab565").then(n.bind(null,"159d"))},meta:{requiresAuth:!0}},{name:"ProductList",path:"/product-list",component:function(){return n.e("chunk-3df47f7e").then(n.bind(null,"96fc"))}},{name:"SignIn",path:"/sign-in",component:function(){return n.e("chunk-b9074488").then(n.bind(null,"54e2"))}},{name:"SignUp",path:"/sign-up",component:function(){return n.e("chunk-1c423c20").then(n.bind(null,"5c9c"))}},{name:"Account",path:"/account",component:function(){return n.e("chunk-88058f76").then(n.bind(null,"77be"))},meta:{requiresAuth:!0}}],de=new ie["a"]({mode:"history",base:"/",routes:le});de.beforeEach((function(e,t,n){document.title="".concat("Friperie de luxe"," - ").concat(e.name),n()})),de.afterEach((function(){ue()(0,{durantion:0})})),de.beforeEach((function(e,t,n){var a=e.matched.some((function(e){return e.meta.requiresAuth})),r=c["c"].auth().currentUser;a&&!r?n("/"):n()}));var fe=de,me=n("1da1"),he=(n("96cf"),n("841c"),n("4de4"),n("caad"),n("2532"),n("2f62")),pe=n("af0d"),ke=new pe["a"]("database");ke.config.debug=!1,a["a"].use(he["a"]);var ve=new he["a"].Store({state:{appTitle:"Friperie de luxe",currentUser:null,search:null,tasks:[],snackbar:{show:!1,text:""},sorting:!1},mutations:{setCurrentUser:function(e,t){e.currentUser=t},setSearch:function(e,t){e.search=t},addTask:function(e,t){e.tasks.push(t)},doneTask:function(e,t){var n=e.tasks.filter((function(e){return e.id===t}))[0];n.done=!n.done},deleteTask:function(e,t){e.tasks=e.tasks.filter((function(e){return e.id!==t}))},updateTaskTitle:function(e,t){var n=e.tasks.filter((function(e){return e.id===t.id}))[0];n.title=t.title},updateTaskDueDate:function(e,t){var n=e.tasks.filter((function(e){return e.id===t.id}))[0];n.dueDate=t.dueDate},setTasks:function(e,t){e.tasks=t},showSnackbar:function(e,t){var n=0;e.snackbar.show&&(e.snackbar.show=!1,n=300),setTimeout((function(){e.snackbar.show=!0,e.snackbar.text=t}),n)},hideSnackbar:function(e){e.snackbar.show=!1},toggleSorting:function(e){e.sorting=!e.sorting}},actions:{signIn:function(e,t){return Object(me["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.dispatch,n.next=3,c["a"].signInWithEmailAndPassword(t.email,t.password);case 3:r=n.sent,o=r.user,a("fetchUserProfile",o);case 6:case"end":return n.stop()}}),n)})))()},fetchUserProfile:function(e,t){return Object(me["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,c["d"].doc(t.uid).get();case 3:r=n.sent,a("setCurrentUser",r.data()),"/sign-in"===fe.currentRoute.path&&fe.push("/account");case 6:case"end":return n.stop()}}),n)})))()},addTask:function(e,t){var n=e.commit,a={id:Date.now(),title:t,done:!1,dueDate:null};ke.collection("tasks").add(a).then((function(){n("addTask",a),n("showSnackbar","Tache ajoutée !")}))},doneTask:function(e,t){var n=e.state,a=e.commit,r=n.tasks.filter((function(e){return e.id===t}))[0];ke.collection("tasks").doc({id:t}).update({done:!r.done}).then((function(){a("doneTask",t)}))},deleteTask:function(e,t){var n=e.commit;ke.collection("tasks").doc({id:t}).delete().then((function(){n("deleteTask",t),n("showSnackbar","Tache supprimée !")}))},updateTaskTitle:function(e,t){var n=e.commit;ke.collection("tasks").doc({id:t.id}).update({title:t.title}).then((function(){n("updateTaskTitle",t),n("showSnackbar","Tache à jour !")}))},updateTaskDueDate:function(e,t){var n=e.commit;ke.collection("tasks").doc({id:t.id}).update({dueDate:t.dueDate}).then((function(){n("updateTaskDueDate",t),n("showSnackbar","Date à jour !")}))},setTasks:function(e,t){var n=e.commit;ke.collection("tasks").set(t),n("setTasks",t)},getTasks:function(e){var t=e.commit;ke.collection("tasks").get().then((function(e){t("setTasks",e)}))}},getters:{tasksFiltred:function(e){return e.search?e.tasks.filter((function(t){return t.title.toLowerCase().includes(e.search.toLowerCase())})):e.tasks}},modules:{}}),be=(n("5363"),n("f309"));a["a"].use(be["a"]);var ge,we=new be["a"]({icons:{iconfont:"mdi"}}),Te=(n("ea7b"),n("e71f"),n("73c3")),_e=n.n(Te),xe=n("3d20"),ye=n.n(xe);n("e71f"),a["a"].use(_e.a,{key:"id",enumerable:!0}),a["a"].use(_e.a),window.Swal=ye.a,a["a"].config.productionTip=!1;var Ce=function(){ge||(ge=new a["a"]({router:fe,store:ve,vuetify:we,render:function(e){return e(ce)}}).$mount("#app"))};c["c"].auth().onAuthStateChanged((function(e){e?ve.commit("setCurrentUser",e):ve.commit("setCurrentUser",null),Ce()}))},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){},dc59:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n("260b"),r=(n("ea7b"),n("e71f"),n("588e"),{apiKey:"AIzaSyAYQJfKuhSTL5wPocI0K4CXChMsfp3XWEg",authDomain:"mk-production-40d68.firebaseapp.com",databaseURL:"https://mk-production-40d68-default-rtdb.firebaseio.com",projectId:"mk-production-40d68",storageBucket:"mk-production-40d68.appspot.com",messagingSenderId:"597137251934",appId:"1:597137251934:web:596547a7174d9afc219ecf",measurementId:"G-TVDREF4661"}),o=a["a"].initializeApp(r),c=a["a"].firestore(),i=a["a"].auth(),s=c.collection("profiles");c.collection("posts"),c.collection("comments"),c.collection("likes")}});
//# sourceMappingURL=app.d9e8e7ab.js.map